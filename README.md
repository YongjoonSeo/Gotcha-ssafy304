# SSAFY 3기 종합 프로젝트 - 영화 추천 사이트

## - DRF & Vue.js



### 1. 팀원 정보 및 업무 분담 내역

- 팀원: 0346887 서용준 & 0346113 김태형
- 기본적으로 두 사람 다 프론트, 백 양쪽을 모두 같이 개발한다.
- 서용준: 영화 데이터 수집 및 가공. ERD 작성. README 정리. 배포. Vue.js 총괄.
- 김태형: DRF 계정, 게시글, 댓글 로직 작성. 영화 추천 알고리즘 작성.



### 2. 필수 기능, 목표 서비스 및 실제 구현 정도

1. **필수 기능**
   1. 관리자뷰
   2. 영화정보
   3. 추천 알고리즘
   4. 커뮤니티
   5. 기타 (상태코드, 메시지)
   
2. **목표 서비스**
   1. 계정정보 (회원가입, 로그인, 로그아웃, 관리자설정, 회원 탈퇴 & user detail)
   2. 영화 정보 받아서 db에 받아오기 (영화정보 저장)
   3. 영화 정보 보여주기 (list, detail, like)
   4. 커뮤니티 만들기 (list, detail, comment, pagination)
      - 영화 디테일 페이지에서 커뮤니티로 넘어가는 링크를 만들어준다.
   5. 유저 팔로잉 - 팔로우하는 유저 들어가서 좋아요 한 영화 목록 조회할 수 있게끔 & 링크 타면 해당 영화 디테일 페이지 갈 수 있게끔
   6. 영화 추천 알고리즘 (간단히)
   7. 회원 정보 수정
   8. 리뷰 크롤링해서 영화 디테일페이지에 넣는 것.
   9. 영화 추천 알고리즘 다듬기
   
3. **실제 구현**

   1. 계정정보
2. 영화정보 저장
   
   - 먼저 영화진흥원 api에서 영화목록을 조회했다. 장편 영화인 경우에 한해 해당 영화의 제목을 네이버 영화 api의 query로 보내고, 받은 응답에서 items에 있는 내용을 db에 담도록 했다. 네이버 영화 api의 items에 있는 내용과 영화진흥원의 장르를 함께 저장했다.
   3. 영화진흥원 api에서 장르에 '성인물'이 들어가는 경우 해당 영화를 제외했고, 네이버 성인 검색어 판별 api를 통해 성인 검색어로 판별되는 경우에도 해당 영화를 제외했다. 그리고 네이버 영화 평점이 0.00점이거나 10.00점인 경우의 영화도 모두 제외했다. 또한, 받은 데이터에 빈 값이 있는 경우도 제외했다.
      - BeautifulSoup을 사용하여 영화 줄거리와 포스터 URL을 크롤링해온 후 영화 데이터에 함께 저장했다.
      - 총 15,000개 가량의 영화 정보를 영화진흥원 api를 통해 받은 후, 필터링을 통해 1700개의 영화 데이터를 데이터베이스에 저장했다.



### 3. 데이터베이스 모델링(ERD)

![final pjt ERD](final pjt ERD.jpeg)

- 한 영화를 좋아하는 유저가 많을 수 있고, 한 유저가 많은 영화를 좋아할 수도 있으니 Movie 모델의 like 필드를 통해 User와 M:N관계로 연결된다.
- 영화에 따른 게시글이 있을 수도 있고 없을 수도 있으며, 있다면 영화와 게시글이 1:N관계로 연결된다.
- 게시글은 User가 필수적으로 있어야하고, 한 유저가 많은 게시글을 쓸 수 있으므로 User와 Article이 1:N관계로 연결된다.
- 댓글은 게시글이 필수적으로 있어야 하고, 한 게시글에 많은 댓글이 있을 수 있으므로 게시글과 댓글은 1:N관계로 연결된다.
- 댓글은 유저도 필수적으로 있어야 하고 한 유저가 많은 댓글을 남길 수 있으므로 유저와 댓글은 1:N관계로 연결된다.


